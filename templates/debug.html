{% extends "base.html" %}
{% load static %}

{% block headers %}
    <link rel="stylesheet" href="{% static 'css/debug.css' %}">
{% endblock headers %}

{% block content %}
    <div id="app">
        {% csrf_token %}
        <textarea v-model="left"></textarea><br/>
        <textarea v-model="right"></textarea><br/>
        <button @click="run">Run</button>
        <h2>[[ loading ]]</h2>
        <gameselect v-for="game in game_select" v-bind:game="game"
        @showgame="showGame"></gameselect>

        <h2 v-show="current_game.tape_len">[[ result === 0 ? "Tie Game (0)" : (result > 0 ? `Right Wins (${result})` : `Left Wins (${result})`) ]]</h2>

        <div v-show="current_game.tape_len">Tape length [[current_game.tape_len]][[ current_game.polarity ? ", polarity inverted" : ""]]</div>

        <canvas id="canvas" width="0" height="287"></canvas>

        <div v-show="current_game.tape_len">
            <turn v-for="(turn, index) in current_game.turns" v-bind:turn="turn" v-bind:turn_num="index"></turn>
        </div>
    </div>


    <script src="https://unpkg.com/vue"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="{% static 'js/debug.js' %}"></script>
    <!--NOTE: canvas works ONLY IF the code declaring it comes AFTER the Vue code-->

{% endblock content %}
