{* Quicklock *}
{% def lock cell %}
	{% for dist cell 30 1 %}
		((+)*256 (>)*dist (+.)*{% 128 - dist %} (<)*dist)*{% dist == 30 ? -1 : 3 %}
	{% endfor %}
{% enddef %}

{% def chunk cell :: test 1 %}
	(<)*cell([{(>)*cell(([-{[(+)*90[+.]]}[-[-.]]>[+[--[-[-[+++++[+[(+)*23<]]]]]]]>
	([-{[(+)*100[+.]]}[-[-.]]>[+[--[-[-[+++++[+[(+)*25<]]]]]]]>
	([-{[(+)*110[+.]]}[-[-.]]>[+[--[-[-[+++++[+[(+)*28<]]]]]]]>
	][-[-.]])%400][-[-.]])%400][-[-.]])%400>)*{% 28 - cell %}(-.)*-1}][]<(.)*254
	{% call lock (cell + 1) %}
	)%8000
{% enddef %}


>(+)*4
+>[(>)*7 ([(-)*120[-[-]]]>)*21]
->[(>)*6([+[--[-[-[+++++[+[(-)*118[-[-]]]]]]]]]>)*21]
+>[(>)*5([+[--[-[-[+++++[+[(-)*118[-[-]]]]]]]]]>)*21]
->[(>)*4([+[--[-[-[+++++[+[(-)*118[-[-]]]]]]]]]>)*21]
+>->+>
{% block test 1 test2 (2 + 3 * 4 - 5) %}
{% for cell 8 31 1 :: test 1 1 test2 2 4 %}
	{% if (cell > 22) %}
		>
	{% elif (!(cell % 2)) %}
		->
	{% else %}
		+>
	{% endif %}
	{% if ( cell < 28 ) %}
		[ {% call chunk cell %} ]
	{% else %}
		[ (-)*64[-[-]-[-.]-[-----++.]][-[-]-[-.]-[-----++.]]](-)*100(-.)*-1
	{% endif %}
{% endfor %}
{% endblock %}